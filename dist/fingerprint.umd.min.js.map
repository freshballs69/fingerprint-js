{"version":3,"file":"fingerprint.umd.min.js","sources":["../src/utils/hash.ts","../src/collectors/browser.ts","../src/collectors/timezone.ts","../src/collectors/storage.ts","../src/collectors/canvas.ts","../src/collectors/fonts.ts","../src/collectors/plugins.ts","../src/sender.ts","../src/index.ts","../src/collectors/webgl.ts","../src/collectors/audio.ts","../src/collectors/webrtc.ts","../src/collectors/screen.ts","../src/collectors/hardware.ts","../src/config.ts"],"sourcesContent":["export async function sha256(message: string): Promise<string> {\n  const msgBuffer = new TextEncoder().encode(message);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\nexport function murmur3(str: string, seed: number = 0): number {\n  let h1 = seed >>> 0;\n  const c1 = 0xcc9e2d51;\n  const c2 = 0x1b873593;\n\n  for (let i = 0; i < str.length; i++) {\n    let k1 = str.charCodeAt(i);\n    k1 = Math.imul(k1, c1);\n    k1 = (k1 << 15) | (k1 >>> 17);\n    k1 = Math.imul(k1, c2);\n\n    h1 ^= k1;\n    h1 = (h1 << 13) | (h1 >>> 19);\n    h1 = Math.imul(h1, 5) + 0xe6546b64;\n  }\n\n  h1 ^= str.length;\n  h1 ^= h1 >>> 16;\n  h1 = Math.imul(h1, 0x85ebca6b);\n  h1 ^= h1 >>> 13;\n  h1 = Math.imul(h1, 0xc2b2ae35);\n  h1 ^= h1 >>> 16;\n\n  return h1 >>> 0;\n}\n","export function getUserAgent(): string {\n  return navigator.userAgent;\n}\n\nexport function getLanguage(): string {\n  return navigator.language;\n}\n\nexport function getLanguages(): string[] {\n  return Array.from(navigator.languages || [navigator.language]);\n}\n\nexport function getPlatform(): string {\n  return navigator.platform;\n}\n\nexport function getVendor(): string {\n  return navigator.vendor || '';\n}\n\nexport function getVendorFlavors(): string[] {\n  const dominated: string[] = [];\n  const domPropNames = Object.getOwnPropertyNames(window);\n\n  const vendorChecks: { [key: string]: string[] } = {\n    chrome: ['chrome'],\n    firefox: ['InstallTrigger'],\n    safari: ['safari'],\n    edge: ['msWriteProfilerMark'],\n    opera: ['opr', 'opera'],\n  };\n\n  for (const [browser, props] of Object.entries(vendorChecks)) {\n    for (const prop of props) {\n      if (domPropNames.includes(prop) || prop in window) {\n        dominated.push(browser);\n        break;\n      }\n    }\n  }\n\n  return dominated;\n}\n\nexport function getDoNotTrack(): string | null {\n  return navigator.doNotTrack || null;\n}\n\nexport function getCookiesEnabled(): boolean {\n  try {\n    document.cookie = 'fp_test=1';\n    const result = document.cookie.indexOf('fp_test=') !== -1;\n    document.cookie = 'fp_test=1; expires=Thu, 01 Jan 1970 00:00:00 UTC';\n    return result;\n  } catch {\n    return false;\n  }\n}\n","export function getTimezone(): string {\n  try {\n    return Intl.DateTimeFormat().resolvedOptions().timeZone;\n  } catch {\n    return '';\n  }\n}\n\nexport function getTimezoneOffset(): number {\n  return new Date().getTimezoneOffset();\n}\n","export function hasSessionStorage(): boolean {\n  try {\n    return !!window.sessionStorage;\n  } catch {\n    return false;\n  }\n}\n\nexport function hasLocalStorage(): boolean {\n  try {\n    return !!window.localStorage;\n  } catch {\n    return false;\n  }\n}\n\nexport function hasIndexedDb(): boolean {\n  try {\n    return !!window.indexedDB;\n  } catch {\n    return false;\n  }\n}\n","import { murmur3 } from '../utils/hash';\n\nexport function getCanvasFingerprint(): string {\n  try {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return '';\n\n    canvas.width = 200;\n    canvas.height = 50;\n\n    // Draw text with specific styling\n    ctx.textBaseline = 'alphabetic';\n    ctx.font = '14px Arial';\n    ctx.fillStyle = '#f60';\n    ctx.fillRect(125, 1, 62, 20);\n\n    ctx.fillStyle = '#069';\n    ctx.fillText('Fingerprint', 2, 15);\n\n    ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';\n    ctx.fillText('Canvas Test', 4, 45);\n\n    // Draw shapes\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.fillStyle = 'rgb(255,0,255)';\n    ctx.beginPath();\n    ctx.arc(50, 50, 50, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n\n    ctx.fillStyle = 'rgb(0,255,255)';\n    ctx.beginPath();\n    ctx.arc(100, 50, 50, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n\n    const dataUrl = canvas.toDataURL();\n    return murmur3(dataUrl).toString(16);\n  } catch {\n    return '';\n  }\n}\n","const FONT_LIST = [\n  'Arial',\n  'Arial Black',\n  'Arial Narrow',\n  'Bookman Old Style',\n  'Century',\n  'Century Gothic',\n  'Comic Sans MS',\n  'Courier',\n  'Courier New',\n  'Georgia',\n  'Helvetica',\n  'Impact',\n  'Lucida Console',\n  'Lucida Sans Unicode',\n  'Microsoft Sans Serif',\n  'Palatino Linotype',\n  'Tahoma',\n  'Times',\n  'Times New Roman',\n  'Trebuchet MS',\n  'Verdana',\n  'Wingdings',\n];\n\nconst BASE_FONTS = ['monospace', 'sans-serif', 'serif'];\nconst TEST_STRING = 'mmmmmmmmmmlli';\nconst TEST_SIZE = '72px';\n\nexport function getAvailableFonts(): string[] {\n  const available: string[] = [];\n\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  if (!ctx) return available;\n\n  const getWidth = (fontFamily: string): number => {\n    ctx.font = `${TEST_SIZE} ${fontFamily}`;\n    return ctx.measureText(TEST_STRING).width;\n  };\n\n  const baseWidths: { [key: string]: number } = {};\n  for (const baseFont of BASE_FONTS) {\n    baseWidths[baseFont] = getWidth(baseFont);\n  }\n\n  for (const font of FONT_LIST) {\n    let detected = false;\n\n    for (const baseFont of BASE_FONTS) {\n      const testWidth = getWidth(`\"${font}\", ${baseFont}`);\n      if (testWidth !== baseWidths[baseFont]) {\n        detected = true;\n        break;\n      }\n    }\n\n    if (detected) {\n      available.push(font);\n    }\n  }\n\n  return available;\n}\n","export function getPlugins(): string[] {\n  const plugins: string[] = [];\n\n  if (!navigator.plugins) return plugins;\n\n  for (let i = 0; i < navigator.plugins.length; i++) {\n    const plugin = navigator.plugins[i];\n    if (plugin) {\n      plugins.push(plugin.name);\n    }\n  }\n\n  return plugins.sort();\n}\n","import { FingerprintResult } from './types';\n\nexport interface SendOptions {\n  url: string;\n  method?: 'POST' | 'PUT';\n  headers?: Record<string, string>;\n}\n\nexport async function sendFingerprint(\n  result: FingerprintResult,\n  options: SendOptions\n): Promise<Response> {\n  const { url, method = 'POST', headers = {} } = options;\n\n  const response = await fetch(url, {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      ...headers,\n    },\n    body: JSON.stringify(result),\n  });\n\n  return response;\n}\n","import { FingerprintComponents, FingerprintResult, FingerprintOptions, CollectOptions } from './types';\nimport { sha256 } from './utils/hash';\nimport {\n  getUserAgent,\n  getLanguage,\n  getLanguages,\n  getPlatform,\n  getVendor,\n  getVendorFlavors,\n  getDoNotTrack,\n  getCookiesEnabled,\n} from './collectors/browser';\nimport {\n  getColorDepth,\n  getScreenResolution,\n  getAvailableScreenResolution,\n} from './collectors/screen';\nimport { getTimezone, getTimezoneOffset } from './collectors/timezone';\nimport { hasSessionStorage, hasLocalStorage, hasIndexedDb } from './collectors/storage';\nimport { getHardwareConcurrency, getDeviceMemory, getMaxTouchPoints } from './collectors/hardware';\nimport { getCanvasFingerprint } from './collectors/canvas';\nimport { getWebGLInfo } from './collectors/webgl';\nimport { getAvailableFonts } from './collectors/fonts';\nimport { getAudioFingerprint } from './collectors/audio';\nimport { getPlugins } from './collectors/plugins';\nimport { getWebRTCInfo } from './collectors/webrtc';\nimport { getConfig } from './config';\nimport { sendFingerprint, SendOptions } from './sender';\n\nexport { FingerprintComponents, FingerprintResult, FingerprintOptions, CollectOptions } from './types';\nexport { SendOptions } from './sender';\n\nasync function collectComponents(options: FingerprintOptions = {}): Promise<FingerprintComponents> {\n  const exclude = new Set(options.excludeComponents || []);\n\n  const webglInfo = !exclude.has('webglVendor') || !exclude.has('webglRenderer') || !exclude.has('webglVersion')\n    ? getWebGLInfo()\n    : { vendor: '', renderer: '', version: '' };\n\n  const audioFingerprint = !exclude.has('audio')\n    ? await getAudioFingerprint()\n    : 0;\n\n  const webrtcInfo = !exclude.has('webrtcAvailable') || !exclude.has('webrtcLocalIPs')\n    ? await getWebRTCInfo()\n    : { available: false, localIPs: [] };\n\n  return {\n    userAgent: !exclude.has('userAgent') ? getUserAgent() : '',\n    language: !exclude.has('language') ? getLanguage() : '',\n    languages: !exclude.has('languages') ? getLanguages() : [],\n    colorDepth: !exclude.has('colorDepth') ? getColorDepth() : 0,\n    screenResolution: !exclude.has('screenResolution') ? getScreenResolution() : [0, 0],\n    availableScreenResolution: !exclude.has('availableScreenResolution') ? getAvailableScreenResolution() : [0, 0],\n    timezone: !exclude.has('timezone') ? getTimezone() : '',\n    timezoneOffset: !exclude.has('timezoneOffset') ? getTimezoneOffset() : 0,\n    sessionStorage: !exclude.has('sessionStorage') ? hasSessionStorage() : false,\n    localStorage: !exclude.has('localStorage') ? hasLocalStorage() : false,\n    indexedDb: !exclude.has('indexedDb') ? hasIndexedDb() : false,\n    cookiesEnabled: !exclude.has('cookiesEnabled') ? getCookiesEnabled() : false,\n    platform: !exclude.has('platform') ? getPlatform() : '',\n    hardwareConcurrency: !exclude.has('hardwareConcurrency') ? getHardwareConcurrency() : 0,\n    deviceMemory: !exclude.has('deviceMemory') ? getDeviceMemory() : null,\n    maxTouchPoints: !exclude.has('maxTouchPoints') ? getMaxTouchPoints() : 0,\n    vendor: !exclude.has('vendor') ? getVendor() : '',\n    vendorFlavors: !exclude.has('vendorFlavors') ? getVendorFlavors() : [],\n    canvas: !exclude.has('canvas') ? getCanvasFingerprint() : '',\n    webglVendor: !exclude.has('webglVendor') ? webglInfo.vendor : '',\n    webglRenderer: !exclude.has('webglRenderer') ? webglInfo.renderer : '',\n    webglVersion: !exclude.has('webglVersion') ? webglInfo.version : '',\n    fonts: !exclude.has('fonts') ? getAvailableFonts() : [],\n    audio: !exclude.has('audio') ? audioFingerprint : 0,\n    plugins: !exclude.has('plugins') ? getPlugins() : [],\n    doNotTrack: !exclude.has('doNotTrack') ? getDoNotTrack() : null,\n    webrtcAvailable: !exclude.has('webrtcAvailable') ? webrtcInfo.available : false,\n    webrtcLocalIPs: !exclude.has('webrtcLocalIPs') ? webrtcInfo.localIPs : [],\n  };\n}\n\nexport async function getFingerprint(options: FingerprintOptions = {}): Promise<FingerprintResult> {\n  const components = await collectComponents(options);\n  const componentsString = JSON.stringify(components);\n  const hash = await sha256(componentsString);\n\n  return {\n    hash,\n    components,\n    timestamp: Date.now(),\n  };\n}\n\nconst INIT_ENDPOINT = '/api/init';\n\nfunction buildTrackUrl(trackUrl: string, reqId: string): string {\n  const url = new URL(trackUrl, window.location.origin);\n  if (!url.searchParams.has('req_id')) {\n    url.searchParams.set('req_id', reqId);\n  }\n  return url.toString();\n}\n\nfunction fireAndForget(trackUrl: string | null, reqId: string): void {\n  if (!trackUrl) {\n    return;\n  }\n  const url = buildTrackUrl(trackUrl, reqId);\n  fetch(url).catch(() => {});\n}\n\nasync function initRequest(): Promise<{ reqId: string | null; trackUrl: string | null }> {\n  const response = await fetch(INIT_ENDPOINT);\n  const data = await response.json();\n  return {\n    reqId: typeof data.req_id === 'string' ? data.req_id : null,\n    trackUrl: typeof data.track_url === 'string' ? data.track_url : null\n  };\n}\n\nexport async function collect(options: CollectOptions = {}): Promise<string | null> {\n  const initData = await initRequest();\n  if (!initData.reqId) {\n    return null;\n  }\n\n  const result = await new Promise<FingerprintResult>((resolve, reject) => {\n    if (document.readyState === 'complete' || document.readyState === 'interactive') {\n      getFingerprint(options).then(resolve).catch(reject);\n    } else {\n      document.addEventListener('DOMContentLoaded', () => {\n        getFingerprint(options).then(resolve).catch(reject);\n      });\n    }\n  });\n\n  const config = getConfig();\n  let reqId = initData.reqId;\n  const trackUrl = initData.trackUrl || config.trackUrl;\n\n  if (config.endpointUrl) {\n    try {\n      (result as FingerprintResult & { req_id?: string }).req_id = reqId;\n      const response = await sendFingerprint(result, { url: config.endpointUrl });\n      const contentType = response.headers.get('content-type') || '';\n      if (contentType.includes('application/json')) {\n        const data = await response.json();\n        if (data && typeof data.req_id === 'string') {\n          reqId = data.req_id;\n        }\n      }\n    } catch {\n      // Silently fail if endpoint is unavailable\n    }\n  }\n\n  fireAndForget(trackUrl, reqId);\n\n  return reqId;\n}\n\nexport { sendFingerprint };\n\ntype FingerprintAPI = {\n  getFingerprint: typeof getFingerprint;\n  collect: typeof collect;\n  sendFingerprint: typeof sendFingerprint;\n};\n\ntype FingerprintFactory = {\n  (): FingerprintAPI;\n  getFingerprint: typeof getFingerprint;\n  collect: typeof collect;\n  sendFingerprint: typeof sendFingerprint;\n};\n\nconst api: FingerprintAPI = {\n  getFingerprint,\n  collect,\n  sendFingerprint,\n};\n\nconst Fingerprint: FingerprintFactory = Object.assign(() => api, api);\n\n// Auto-initialize when loaded via script tag\nif (typeof window !== 'undefined') {\n  (window as Window & { Fingerprint?: typeof Fingerprint }).Fingerprint = Fingerprint;\n}\n\nexport default Fingerprint;\n","interface WebGLInfo {\n  vendor: string;\n  renderer: string;\n  version: string;\n}\n\nexport function getWebGLInfo(): WebGLInfo {\n  const result: WebGLInfo = {\n    vendor: '',\n    renderer: '',\n    version: '',\n  };\n\n  try {\n    const canvas = document.createElement('canvas');\n    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n    if (!gl || !(gl instanceof WebGLRenderingContext)) {\n      return result;\n    }\n\n    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\n\n    if (debugInfo) {\n      result.vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) || '';\n      result.renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) || '';\n    }\n\n    result.version = gl.getParameter(gl.VERSION) || '';\n  } catch {\n    // WebGL not available\n  }\n\n  return result;\n}\n","import { murmur3 } from '../utils/hash';\n\nexport async function getAudioFingerprint(): Promise<number> {\n  try {\n    const AudioContext = window.AudioContext || (window as Window & { webkitAudioContext?: typeof window.AudioContext }).webkitAudioContext;\n    if (!AudioContext) return 0;\n\n    const context = new AudioContext();\n    const oscillator = context.createOscillator();\n    const analyser = context.createAnalyser();\n    const gain = context.createGain();\n    const scriptProcessor = context.createScriptProcessor(4096, 1, 1);\n\n    const destination = context.destination;\n\n    oscillator.type = 'triangle';\n    oscillator.frequency.setValueAtTime(10000, context.currentTime);\n\n    gain.gain.setValueAtTime(0, context.currentTime);\n\n    oscillator.connect(analyser);\n    analyser.connect(scriptProcessor);\n    scriptProcessor.connect(gain);\n    gain.connect(destination);\n\n    oscillator.start(0);\n\n    const fingerprint = await new Promise<number>((resolve) => {\n      const frequencyData = new Float32Array(analyser.frequencyBinCount);\n      analyser.getFloatFrequencyData(frequencyData);\n\n      const dataString = frequencyData.slice(0, 50).join(',');\n      resolve(murmur3(dataString));\n    });\n\n    oscillator.disconnect();\n    analyser.disconnect();\n    scriptProcessor.disconnect();\n    gain.disconnect();\n    context.close();\n\n    return fingerprint;\n  } catch {\n    return 0;\n  }\n}\n","export interface WebRTCInfo {\n  available: boolean;\n  localIPs: string[];\n}\n\nexport async function getWebRTCInfo(): Promise<WebRTCInfo> {\n  const result: WebRTCInfo = {\n    available: false,\n    localIPs: [],\n  };\n\n  if (typeof RTCPeerConnection === 'undefined') {\n    return result;\n  }\n\n  result.available = true;\n\n  try {\n    const pc = new RTCPeerConnection({\n      iceServers: [],\n    });\n\n    const ips = new Set<string>();\n\n    return new Promise((resolve) => {\n      const timeout = setTimeout(() => {\n        pc.close();\n        result.localIPs = Array.from(ips);\n        resolve(result);\n      }, 1000);\n\n      pc.onicecandidate = (event) => {\n        if (!event.candidate) {\n          clearTimeout(timeout);\n          pc.close();\n          result.localIPs = Array.from(ips);\n          resolve(result);\n          return;\n        }\n\n        const candidate = event.candidate.candidate;\n        const ipMatch = candidate.match(/(\\d{1,3}\\.){3}\\d{1,3}/);\n        if (ipMatch) {\n          ips.add(ipMatch[0]);\n        }\n\n        const ipv6Match = candidate.match(/([a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/i);\n        if (ipv6Match) {\n          ips.add(ipv6Match[0]);\n        }\n      };\n\n      pc.createDataChannel('');\n      pc.createOffer()\n        .then((offer) => pc.setLocalDescription(offer))\n        .catch(() => {\n          clearTimeout(timeout);\n          pc.close();\n          resolve(result);\n        });\n    });\n  } catch {\n    return result;\n  }\n}\n","export function getColorDepth(): number {\n  return screen.colorDepth;\n}\n\nexport function getScreenResolution(): [number, number] {\n  return [screen.width, screen.height];\n}\n\nexport function getAvailableScreenResolution(): [number, number] {\n  return [screen.availWidth, screen.availHeight];\n}\n","export function getHardwareConcurrency(): number {\n  return navigator.hardwareConcurrency || 0;\n}\n\nexport function getDeviceMemory(): number | null {\n  return (navigator as Navigator & { deviceMemory?: number }).deviceMemory || null;\n}\n\nexport function getMaxTouchPoints(): number {\n  return navigator.maxTouchPoints || 0;\n}\n","declare const process: { env: Record<string, string | undefined> } | undefined;\n\nexport interface Config {\n  endpointUrl: string | null;\n  trackUrl: string | null;\n}\n\nexport function getConfig(): Config {\n  let endpointUrl: string | null = null;\n  let trackUrl: string | null = null;\n\n  // Check for environment variable (build-time injection via bundlers)\n  if (typeof process !== 'undefined') {\n    if (process.env?.FINGERPRINT_API) {\n      endpointUrl = process.env.FINGERPRINT_API;\n    } else if (process.env?.FINGERPRINT_ENDPOINT_URL) {\n      endpointUrl = process.env.FINGERPRINT_ENDPOINT_URL;\n    }\n\n    if (process.env?.TRACK_API) {\n      trackUrl = process.env.TRACK_API;\n    }\n  }\n\n  // Check for window global (runtime configuration)\n  if (typeof window !== 'undefined') {\n    const win = window as Window & {\n      FINGERPRINT_API?: string;\n      FINGERPRINT_ENDPOINT_URL?: string;\n      TRACK_API?: string;\n    };\n    if (win.FINGERPRINT_API) {\n      endpointUrl = win.FINGERPRINT_API;\n    } else if (win.FINGERPRINT_ENDPOINT_URL) {\n      endpointUrl = win.FINGERPRINT_ENDPOINT_URL;\n    }\n    if (win.TRACK_API) {\n      trackUrl = win.TRACK_API;\n    }\n  }\n\n  if (!endpointUrl) {\n    endpointUrl = '/api/fingerprint';\n  }\n\n  return { endpointUrl, trackUrl };\n}\n"],"names":["murmur3","str","seed","h1","i","length","k1","charCodeAt","Math","imul","getVendorFlavors","dominated","domPropNames","Object","getOwnPropertyNames","window","vendorChecks","chrome","firefox","safari","edge","opera","browser","props","entries","prop","includes","push","getCookiesEnabled","document","cookie","result","indexOf","_a","getTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","hasSessionStorage","sessionStorage","hasLocalStorage","localStorage","hasIndexedDb","indexedDB","getCanvasFingerprint","canvas","createElement","ctx","getContext","width","height","textBaseline","font","fillStyle","fillRect","fillText","globalCompositeOperation","beginPath","arc","PI","closePath","fill","toDataURL","toString","FONT_LIST","BASE_FONTS","getAvailableFonts","available","getWidth","fontFamily","measureText","baseWidths","baseFont","detected","getPlugins","plugins","navigator","plugin","name","sort","async","sendFingerprint","options","url","method","headers","fetch","body","JSON","stringify","collectComponents","exclude","Set","excludeComponents","webglInfo","has","vendor","renderer","version","gl","WebGLRenderingContext","debugInfo","getExtension","getParameter","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","VERSION","getWebGLInfo","audioFingerprint","AudioContext","webkitAudioContext","context","oscillator","createOscillator","analyser","createAnalyser","gain","createGain","scriptProcessor","createScriptProcessor","destination","type","frequency","setValueAtTime","currentTime","connect","start","fingerprint","Promise","resolve","frequencyData","Float32Array","frequencyBinCount","getFloatFrequencyData","slice","join","disconnect","close","getAudioFingerprint","webrtcInfo","localIPs","RTCPeerConnection","pc","iceServers","ips","timeout","setTimeout","Array","from","onicecandidate","event","candidate","clearTimeout","ipMatch","match","add","ipv6Match","createDataChannel","createOffer","then","offer","setLocalDescription","catch","getWebRTCInfo","userAgent","language","languages","colorDepth","screen","screenResolution","availableScreenResolution","availWidth","availHeight","timezone","timezoneOffset","Date","getTimezoneOffset","indexedDb","cookiesEnabled","platform","hardwareConcurrency","deviceMemory","maxTouchPoints","vendorFlavors","webglVendor","webglRenderer","webglVersion","fonts","audio","doNotTrack","webrtcAvailable","webrtcLocalIPs","getFingerprint","components","componentsString","hash","message","msgBuffer","TextEncoder","encode","hashBuffer","crypto","subtle","digest","Uint8Array","map","b","padStart","sha256","timestamp","now","fireAndForget","trackUrl","reqId","URL","location","origin","searchParams","set","buildTrackUrl","collect","initData","response","data","json","req_id","track_url","initRequest","reject","readyState","addEventListener","config","endpointUrl","process","env","FINGERPRINT_API","_b","FINGERPRINT_ENDPOINT_URL","_c","TRACK_API","win","getConfig","get","api","Fingerprint","assign"],"mappings":"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"}